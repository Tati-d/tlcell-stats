(this.webpackJsonptlc=this.webpackJsonptlc||[]).push([[0],{167:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),c=a.n(l),o=(a(86),a(10)),i=(a(87),a(180)),s=a(176),u=a(181),m=(a(88),function(e){var t=e.isLoginIn,a=void 0===t||t,n=e.onLogout,l=void 0===n?function(){}:n;return r.a.createElement(i.a,{expand:"lg",variant:"light",className:"Header"},r.a.createElement(s.a,null,r.a.createElement(i.a.Brand,{href:"#"},"TLCELL"),a?r.a.createElement(u.a,{variant:"link",onClick:l},"Admin"):null))}),d=a(49),E=a.n(d),b=a(74),f=a(177),v=a(178),p=a(50),g=a.n(p),h=a(75),O=a.n(h),S=(a(93),a(94),a(76)),j=a.n(S).a.create({baseURL:"http://80.211.129.183:8081/api/",headers:{"Content-Type":"application/json"}});j.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(null===e||void 0===e?void 0:e.response)}));var w=function(e){return console.log(e,"data"),j({url:"statistic/new",method:"POST",data:e})},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a="start"===t?"00:00:00":"23:59:59";return O()(e).format("YYYY-MM-DD ".concat(a))},L=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(C(Date.now(),"start")),i=Object(o.a)(c,2),u=i[0],m=i[1],d=Object(n.useState)(C(Date.now())),f=Object(o.a)(d,2),v=f[0],p=f[1],g=Object(n.useState)(""),h=Object(o.a)(g,2),O=(h[0],h[1],Object(n.useState)("")),S=Object(o.a)(O,2),j=(S[0],S[1],Object(n.useState)([])),L=Object(o.a)(j,2),N=L[0],k=L[1],T=function(){var e=Object(b.a)(E.a.mark((function e(){var t,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k([]),l(!0),e.prev=2,t={client:"",supplier:"",period:{startDate:u,endDate:v}},e.next=6,w(JSON.stringify(t));case 6:a=e.sent,k(a.response.body.clientStatistics||[]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:return e.prev=13,l(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(s.a,null,r.a.createElement(y,{onStartDateSelect:function(e){m(C(e,"start"))},onEndDateSelect:function(e){p(C(e))}}),r.a.createElement(_,{isLoading:a,onClick:T}),r.a.createElement(D,{data:N}))},_=function(e){var t=e.isLoading,a=void 0!==t&&t,n=e.onClick,l=void 0===n?function(){}:n;return r.a.createElement("div",{className:"Filters__laod-btn-wrap"},a?r.a.createElement(u.a,{onClick:l,variant:"danger",disabled:!0,className:"Filters__laod-btn"},r.a.createElement(f.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),r.a.createElement("span",null," Loading...")):r.a.createElement(u.a,{onClick:l,variant:"danger",className:"Filters__laod-btn"},r.a.createElement("span",null,"Load")))},D=function(e){return e.data.map((function(e,t){return r.a.createElement(N,{table:e,key:"".concat(e.name).concat(Math.random()*t)})}))},N=function(e){var t=e.table,a=void 0===t?{}:t;e.idx;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Table__title"},r.a.createElement("span",{className:"Table__title-item"},r.a.createElement("b",null,null===a||void 0===a?void 0:a.name)),r.a.createElement("span",{className:"Table__title-item"},"total: ",r.a.createElement("b",null,null===a||void 0===a?void 0:a.totalDuration))),r.a.createElement(v.a,{striped:!0,bordered:!0,hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Calls"),r.a.createElement("th",null,"Min"),r.a.createElement("th",null,"Usage"),r.a.createElement("th",null,"asd"),r.a.createElement("th",null,"acd"),r.a.createElement("th",null,"callback"),r.a.createElement("th",null,"rate"))),r.a.createElement("tbody",null,a.destinations.map((function(e){return r.a.createElement(k,{item:e,key:"".concat(100*Math.random())})})))))},k=function(e){var t=e.item,a=Object(n.useState)(1),l=Object(o.a)(a,2),c=l[0],i=l[1],s=Object(n.useState)(1),u=Object(o.a)(s,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){var e=c*+t.durationInMinutes;d(e.toFixed(3))}),[c]),r.a.createElement("tr",null,r.a.createElement("td",null,t.destinationCode),r.a.createElement("td",null,t.calls),r.a.createElement("td",null,t.durationInMinutes),r.a.createElement("td",null,m),r.a.createElement("td",null,t.asr),r.a.createElement("td",null,t.acd),r.a.createElement("td",null,t.callBack),r.a.createElement("td",{className:"Table__rate"},r.a.createElement("input",{type:"number",value:c,onChange:function(e){i(e.target.value)}})))},y=function(e){var t=e.onStartDateSelect,a=void 0===t?function(){}:t,l=e.onEndDateSelect,c=void 0===l?function(){}:l,i=Object(n.useState)(new Date),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(new Date),E=Object(o.a)(d,2),b=E[0],f=E[1],v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"end",t=arguments.length>1?arguments[1]:void 0;"end"===e?(f(t),c(t)):(m(t),a(t))};return r.a.createElement("div",{className:"calendars__wrap"},r.a.createElement("div",{className:"calendar"},r.a.createElement("span",{className:"calendar__title"},"From:"),r.a.createElement(g.a,{selected:u,onChange:function(e){return v("start",e)},selectsStart:!0,startDate:u,endDate:b})),r.a.createElement("div",{className:"calendar"},r.a.createElement("span",{className:"calendar__title"},"To:"),r.a.createElement(g.a,{selected:b,onChange:function(e){return v("end",e)},selectsEnd:!0,startDate:u,endDate:b,minDate:u})))},T=a(179),I=(a(167),function(e){var t=e.onSubmit,a=void 0===t?function(){}:t,l=Object(n.useState)(""),c=Object(o.a)(l,2),i=c[0],m=c[1],d=Object(n.useState)(""),E=Object(o.a)(d,2),b=E[0],f=E[1],v={user:"pur_root",password:"GnOIRENM@24299545"};return r.a.createElement(s.a,null,r.a.createElement(T.a,{className:"LoginForm"},r.a.createElement(T.a.Group,{controlId:"formBasic"},r.a.createElement(T.a.Label,null,"User Name"),r.a.createElement(T.a.Control,{type:"text",placeholder:"Enter user name",onChange:function(e){m(e.target.value)}})),r.a.createElement(T.a.Group,{controlId:"formBasicPassword"},r.a.createElement(T.a.Label,null,"Password"),r.a.createElement(T.a.Control,{type:"password",placeholder:"Password",onChange:function(e){f(e.target.value)}})),r.a.createElement(u.a,{variant:"primary",type:"submit",onClick:function(){i.toLowerCase()===v.user.toLowerCase()&&b.toLowerCase()===v.password.toLowerCase()?a():alert("Wrong data")}},"Submit")))}),M=(a(169),function(e){var t=e.isVisible;return void 0!==t&&t?r.a.createElement("div",{className:"Loader__wrap"},r.a.createElement(f.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))):null}),x="@TLCELL-LOGIN",F=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!0),i=Object(o.a)(c,2),s=i[0],u=i[1];Object(n.useEffect)((function(){try{var e=function(){try{var e=localStorage.getItem(x);return e||null}catch(t){console.log(t)}}();l(!!e)}catch(t){console.log(t)}finally{u(!1)}}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{isLoginIn:a,onLogout:function(){localStorage.removeItem(x),console.log("TOKEN WAS REMOVED"),l(!1)}}),s?r.a.createElement(M,{isVisible:TextTrackCueList}):a?r.a.createElement(L,null):r.a.createElement(I,{onSubmit:function(){u(!0),setTimeout((function(){l(!0),localStorage.setItem(x,x),console.log("TOKEN WAS ADDED SUCCESS"),u(!1)}),1e3)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},81:function(e,t,a){e.exports=a(170)},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},93:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.4c9c5917.chunk.js.map